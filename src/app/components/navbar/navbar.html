<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
  <div class="container-fluid">
    <!-- Brand -->
    <a class="navbar-brand fw-bold text-warning" >MovieApp</a>

    <!-- Toggler for mobile -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="mainNavbar">
      <!-- Center Links -->
      <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
        <li class="nav-item">
<a class="nav-link" 
   routerLink="/movies/now_playing" 
   routerLinkActive="active"  
   [routerLinkActiveOptions]="{ exact: true }">
  Now Playing
</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/movies/popular" routerLinkActive="active"  [routerLinkActiveOptions]="{ exact: true }">Popular</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/movies/top_rated" routerLinkActive="active"  [routerLinkActiveOptions]="{ exact: true }">Top Rated</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/movies/upcoming" routerLinkActive="active"  [routerLinkActiveOptions]="{ exact: true }">Upcoming</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/genres" routerLinkActive="active"  [routerLinkActiveOptions]="{ exact: true }">Genres</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/wishlist" routerLinkActive="active"  [routerLinkActiveOptions]="{ exact: true }">Favourites</a>
        </li>
      </ul>

      <!-- Right Controls -->
      <div class="d-flex align-items-center">
        <!-- Search -->
       <!-- Search -->
        <form class="d-flex align-items-center me-3 search-form" (submit)="onSearch(searchInput.value, $event)">
         <input #searchInput
              class="form-control form-control-sm me-2"
              type="search"
              placeholder="Search for a movie..."
              style="min-width: 200px; padding: 0.4rem 0.75rem;" />
         <button class="btn btn-outline-warning btn-sm" type="submit">Search</button>
        </form>



        <!-- Language Switch -->
        <select class="form-select form-select-sm me-3" 
                [value]="languageService.currentLanguage()" 
                (change)="onLanguageChange($event)">
          <option *ngFor="let lang of languageService.languages" [value]="lang.code">
            {{ lang.name }}
          </option>
        </select>

        <!-- Auth -->
        <a *ngIf="!isLoggedIn()" routerLink="/login" class="btn btn-outline-light btn-sm me-2">Login</a>
        <a *ngIf="!isLoggedIn()" routerLink="/register" class="btn btn-warning btn-sm">Register</a>

        <div *ngIf="isLoggedIn()" class="dropdown">
          <button class="btn btn-outline-light btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
            ðŸ‘¤ {{ getCurrentUser() }}
          </button>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" routerLink="/account">Account</a></li>
            <li><button class="dropdown-item text-danger" (click)="logout()">Logout</button></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>
